<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>原生对象添加Generator接口</title>
</head>
<body>
<script>
    function* objectEntries() {
        let propKeys = Object.keys(this);

        for (let propKey of propKeys) {
            yield [propKey, this[propKey]];
        }
    }

    let jane = {first: 'Jane', last: 'Doe'};

    jane[Symbol.iterator] = objectEntries;
    for (let [key, value] of jane) {
        console.log(`${key}: ${value}`);
    }
    // first: Jane
    // last: Doe


    // function* objectEntries(obj) {
    //     let propKeys = Reflect.ownKeys(obj);
    //
    //     for (let propKey of propKeys) {
    //         yield [propKey, obj[propKey]];
    //     }
    // }
    //
    // let jane = { first: 'Jane', last: 'Doe' };
    //
    // for (let [key, value] of objectEntries(jane)) {
    //     console.log(`${key}: ${value}`);
    // }
    // // first: Jane
    // // last: Doe

</script>
</body>
</html>